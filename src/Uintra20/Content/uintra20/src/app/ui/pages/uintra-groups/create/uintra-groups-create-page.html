<app-groups-wrapper>
  <div class="groups-create-wrapper page-wrapper">
    <div class="groups-create col-md-8">
      <h2 class="groups-create__row groups-create__title">Create Group</h2>

      <div class="groups-create__row">
        <h3 class="subtitle required">Group title</h3>
        <text-input
          type="text"
          aria-label="Title"
          [maxLength]="200"
          class="groups-create__title-input"
          [ngClass]="{'invalid': isShowValidation && !title || isShowValidation && title.length > 200}"
          [(ngModel)]="title"
        ></text-input>
      </div>

      <div class="groups-create__row">
        <h3 class="subtitle required">Description</h3>
        <app-rich-text-editor
          [isEditing]="true"
          [isDropzone]="false"
          [isUnderline]="false"
          [isEmoji]="false"
          placeholder=""
          [ngClass]="{'invalid': isShowValidation && !description}"
          [(ngModel)]="description">
        </app-rich-text-editor>
      </div>

      <div class="groups-create__row">
        <h3 class="subtitle">GroupImage</h3>
        <app-dropzone-wrapper
          [maxFiles]="1"
          [filesLength]="files.length"
          (success)="onUploadSuccess($event)"
          (removedFile)="onFileRemoved($event)">
        </app-dropzone-wrapper>
      </div>

      <ul *ngIf="isShowValidation" class="validation-errors">
        <li *ngIf="!title" class="validation-errors__title">
          A title is required
        </li>
        <li *ngIf="title.length > 200" class="validation-errors__title">
          A title shouldn't have more than 200 chars
        </li>
        <li *ngIf="!description" class="validation-errors__description">
          A description is required
        </li>
      </ul>

      <button
        class="groups-create__row--top groups-create__row button"
        [disabled]="isSubmitDisabled"
        (click)="onSubmit()">
        Create
      </button>
    </div>
  </div>
</app-groups-wrapper>
