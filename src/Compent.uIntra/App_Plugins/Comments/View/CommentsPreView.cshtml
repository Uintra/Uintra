@using Uintra.Core.Extensions
@model Uintra.Comments.CommentPreviewModel

@{
    var showCount = Model.Count > 0 && !Model.IsReadOnly;
    var link = Model.IsReadOnly ? "" : Model.Link;
}

<span class="comments-preview @(Model.IsExistsUserComment ? "_hasComments" : "") js-readonly-click-warning" data-is-readonly="@Model.IsReadOnly">
    <input type="hidden" name="readonlyClickTitle" value="@Html.Localize("Comments.ReadonlyClick.Title.lbl")" />
    <input type="hidden" name="readonlyClickMessage" value="@Html.Localize("Comments.ReadonlyClick.Message.lbl")" />

    <a class="comments-preview__link" href="@link">
        <svg class="svg-icon" viewBox="0 0 24 24" width="16px" height="16px">
            <use xlink:href="#icon-comment" x="0" y="0"></use>
        </svg>
        @(showCount ? Model.Count.ToString() : Html.Localize("Comments.Empty.lbl"))</a>
</span>