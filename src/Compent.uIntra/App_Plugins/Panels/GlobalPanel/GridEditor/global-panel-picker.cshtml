@using System.Web.Mvc.Html
@using Umbraco.Web
@using Uintra.Core.Constants
@inherits Umbraco.Web.Mvc.UmbracoViewPage<dynamic>

@{
    int panelId = Model.value.id;
    var panel = Umbraco.TypedContent(panelId);
    var model = panel != null ? panel.GetPropertyValue(GridEditorConstants.PanelConfigPropertyAlias) as dynamic : null;
    var editor = model?.editor;
    string renderer = editor?.render;
}

@if (model != null && editor != null && !string.IsNullOrEmpty(renderer))
{
    try
    {
        Html.RenderPartial(renderer, (object)model);
    }
    catch (Exception ex)
    {
        if (HttpContext.Current.IsDebuggingEnabled)
        {
            <pre>@ex.ToString()</pre>
        }
    }
}
