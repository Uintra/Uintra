<div ng-controller="memberGroups.editController as vm" ng-show="vm.memberGroup">
    <umb-editor-view>

        <umb-editor-header name="vm.memberGroup.name"
                           hide-alias="true"
                           hide-description="true"
                           hide-icon="true">
        </umb-editor-header>

        <umb-editor-container class="form-horizontal">

            <umb-property property="vm.property">
                <input type="text" ng-model="vm.memberGroup.name" />
                <!--<span>{{vm.memberGroup.name}}</span>-->
            </umb-property>

            <div ng-repeat="(key, value) in vm.permissions | groupBy: 'activityTypeName'">
                <umb-property property="vm.getProperty(key)">
                    <div ng-repeat="permission in value">
                        <umb-toggle checked="permission.exists" on-click="vm.toggle(permission)">
                        </umb-toggle>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span>{{permission.actionName}}</span>
                        <br />
                    </div>
                </umb-property>
            </div>

        </umb-editor-container>

        <umb-editor-footer>
            <umb-editor-footer-content-right>
                <umb-button action="vm.save()"
                            type="button"
                            button-style="success"
                            state="vm.buttonState"
                            shortcut="ctrl+c"
                            label="Save"
                            disabled="vm.buttonState === 'busy'">
                </umb-button>
            </umb-editor-footer-content-right>
        </umb-editor-footer>
    </umb-editor-view>
</div>
